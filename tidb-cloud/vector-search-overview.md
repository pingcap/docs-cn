---
title: 向量搜索（Beta）概述
summary: 了解 TiDB 中的向量搜索。此功能提供了一个高级搜索解决方案，可以对文档、图像、音频和视频等各种数据类型执行语义相似度搜索。
---

# 向量搜索（Beta）概述

TiDB 向量搜索（beta）提供了一个高级搜索解决方案，可以对文档、图像、音频和视频等各种数据类型执行语义相似度搜索。此功能使开发人员能够使用熟悉的 MySQL 技能轻松构建具有生成式人工智能（AI）功能的可扩展应用程序。

> **注意**
>
> TiDB 向量搜索仅适用于 TiDB 自管理版本（TiDB >= v8.4）和 [TiDB Cloud Serverless](/tidb-cloud/select-cluster-tier.md#tidb-cloud-serverless)。它不适用于 [TiDB Cloud Dedicated](/tidb-cloud/select-cluster-tier.md#tidb-cloud-dedicated)。

## 概念

向量搜索是一种优先考虑数据含义以提供相关结果的搜索方法。

与依赖精确关键词匹配和词频的传统全文搜索不同，向量搜索将各种数据类型（如文本、图像或音频）转换为高维向量，并基于这些向量之间的相似度进行查询。这种搜索方法捕获了数据的语义含义和上下文信息，从而更准确地理解用户意图。

即使搜索词与数据库中的内容不完全匹配，向量搜索仍然可以通过分析数据的语义来提供符合用户意图的结果。

例如，对"会游泳的动物"进行全文搜索只会返回包含这些确切关键词的结果。相比之下，向量搜索可以返回其他会游泳的动物的结果，如鱼或鸭子，即使这些结果不包含确切的关键词。

### 向量嵌入

向量嵌入（也称为嵌入）是一个数字序列，用于在高维空间中表示现实世界的对象。它捕获了非结构化数据（如文档、图像、音频和视频）的含义和上下文。

向量嵌入在机器学习中至关重要，是语义相似度搜索的基础。

TiDB 引入了[向量数据类型](/tidb-cloud/vector-search-data-types.md)和[向量搜索索引](/tidb-cloud/vector-search-index.md)，专门用于优化向量嵌入的存储和检索，增强其在 AI 应用中的使用。你可以在 TiDB 中存储向量嵌入，并使用这些数据类型执行向量搜索查询以找到最相关的数据。

### 嵌入模型

嵌入模型是将数据转换为[向量嵌入](#向量嵌入)的算法。

选择合适的嵌入模型对于确保语义搜索结果的准确性和相关性至关重要。对于非结构化文本数据，你可以在 [Massive Text Embedding Benchmark (MTEB) Leaderboard](https://huggingface.co/spaces/mteb/leaderboard) 上找到性能最佳的文本嵌入模型。

要了解如何为特定数据类型生成向量嵌入，请参考嵌入模型的集成教程或示例。

## 向量搜索的工作原理

将原始数据转换为向量嵌入并存储在 TiDB 中后，你的应用程序可以执行向量搜索查询，以找到与用户查询在语义或上下文上最相关的数据。

TiDB 向量搜索通过使用[距离函数](/tidb-cloud/vector-search-functions-and-operators.md)计算给定向量与数据库中存储的向量之间的距离来识别 top-k 最近邻（KNN）向量。在查询中与给定向量最接近的向量代表含义上最相似的数据。

![TiDB 向量搜索示意图](/media/vector-search/embedding-search.png)

作为具有集成向量搜索功能的关系数据库，TiDB 使你能够在一个数据库中同时存储数据及其对应的向量表示（即向量嵌入）。你可以选择以下任一方式进行存储：

- 在同一个表的不同列中存储数据及其对应的向量表示。
- 在不同的表中存储数据及其对应的向量表示。这种方式下，在检索数据时需要使用 `JOIN` 查询来组合表。

## 使用场景

### 检索增强生成（RAG）

检索增强生成（Retrieval-Augmented Generation，RAG）是一种旨在优化大型语言模型（LLM）输出的架构。通过使用向量搜索，RAG 应用程序可以在数据库中存储向量嵌入，并在 LLM 生成响应时检索相关文档作为额外上下文，从而提高答案的质量和相关性。

### 语义搜索

语义搜索是一种基于查询含义而不是简单匹配关键词来返回结果的搜索技术。它使用嵌入来解释跨不同语言和各种类型数据（如文本、图像和音频）的含义。然后，向量搜索算法使用这些嵌入来找到最符合用户查询的相关数据。

### 推荐引擎

推荐引擎是一个主动向用户推荐相关和个性化内容、产品或服务的系统。它通过创建表示用户行为和偏好的嵌入来实现这一目标。这些嵌入帮助系统识别其他用户已经交互或表现出兴趣的相似项目。这增加了推荐内容对用户既相关又有吸引力的可能性。

## 另请参阅

要开始使用 TiDB 向量搜索，请参阅以下文档：

- [使用 Python 开始向量搜索](/tidb-cloud/vector-search-get-started-using-python.md)
- [使用 SQL 开始向量搜索](/tidb-cloud/vector-search-get-started-using-sql.md)
