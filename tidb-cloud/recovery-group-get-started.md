---
title: 恢复组入门
summary: 了解如何在 TiDB Cloud 中创建恢复组并查看其详细信息。
---

# 恢复组入门

本文档介绍如何使用 [TiDB Cloud 控制台](https://tidbcloud.com/) 创建恢复组来保护运行在 TiDB Cloud Dedicated 集群上的数据库。同时还介绍如何查看恢复组的详细信息。

## 前提条件

- 恢复组将你的数据库复制到另一个集群，以保护你的数据库免受区域性灾难的影响。在创建恢复组之前，你需要有两个 TiDB Cloud Dedicated 集群。一个集群托管主数据库，第二个集群托管主数据库的副本。如果你尚未创建这些集群，请按照[创建 TiDB Cloud Dedicated 集群](/tidb-cloud/create-tidb-cluster.md)中的步骤创建所需的集群。
- 要创建恢复组，你必须具有组织的 `Organization Owner` 角色或目标项目的 `Project Owner` 角色。

> **注意**
>
> 目前，只有在 AWS 上托管的 TiDB Cloud Dedicated 集群支持恢复组。

## 创建新的恢复组

要创建恢复组，请执行以下步骤：

1. 在 [TiDB Cloud 控制台](https://tidbcloud.com/)中，使用左上角的组合框切换到目标项目。

2. 在左侧导航栏中，点击 **Recovery Group**。

3. 在 **Recovery Group** 页面，点击 **Create Recovery Group**。

4. 在 **Create Recovery Group** 页面，为恢复组输入名称。

    > **注意**
    >
    > 目前仅支持一种弹性级别。有关更多信息，请参见[关于弹性级别](#关于弹性级别)。

5. 选择将作为该组主集群的 TiDB Cloud Dedicated 集群。

6. 选择将作为该组数据库复制目标的备用 TiDB Cloud Dedicated 集群。

7. 选择你希望作为此恢复组一部分进行复制的数据库。

    > **注意**
    >
    > 在将数据库分配给组时，你可以选择特定数据库，或选择主集群上的所有（非系统）数据库（当前和未来）。
    >
    > - 如果你**分配所有数据库（当前和未来）**，将来添加到集群的任何数据库都将自动包含在此恢复组中，并复制到备用集群。
    > - 如果你**分配特定数据库**，选择你想要复制到备用集群的主集群上的特定数据库。如果将来向主集群添加任何数据库，这些新数据库不会自动作为此恢复组的一部分进行复制。
    >
    > 在初始复制期间，由于传输的数据量较大，可能会影响主集群或备用集群的在线查询性能。请在较不繁忙的时期安排数据库的初始保护。

    > **警告**
    > 
    > 在初始复制期间，主集群上所选数据库的内容将替换备用集群上的数据库内容。如果你希望保留备用集群上的唯一内容，请在设置恢复组之前完成备份。

8. 查看摘要信息，然后点击 **Create** 开始将数据库作为新恢复组的一部分进行保护。

## 查看恢复组详细信息

创建恢复组后，你可以在 **Recovery Group Detail** 页面上查看其状态信息：

1. 在 [TiDB Cloud 控制台](https://tidbcloud.com/)中，使用左上角的组合框切换到目标项目。

2. 在左侧导航栏中，点击 **Recovery Group**。

3. 在 **Recovery Group** 页面，点击你想要查看的恢复组的名称。

    **Recovery Group Detail** 页面提供了有关恢复组的信息，包括其配置详细信息、状态以及复制吞吐量和延迟的指标。

4. 当复制关系完全建立并正常运行时，状态显示为 **Available**。

    > **警告**
    >
    > 在设置恢复组期间，将在备用集群上创建一个遵循 `cloud-rg-*` 模式命名的账户，用于复制过程。删除或修改此账户将中断复制。

## 关于弹性级别

弹性级别定义了恢复组在不同场景下数据读取的一致性特征。目前，TiDB Cloud 仅提供以下弹性级别：

- 不保证一致性。在恢复组的复制过程中，下游集群不保证事务一致性读取。当上游集群不可用时，你无法将下游集群中的数据恢复到事务一致性状态。

TiDB Cloud 将在不久的将来提供两个额外的弹性级别：

- 最终一致性。在恢复组的复制过程中，下游集群不保证事务一致性读取。但是，当上游集群不可用时，你可以将下游集群中的数据恢复到事务一致性状态。
- 近实时一致性。在恢复组的复制过程中，下游集群提供近实时的事务一致性读取。当上游集群不可用时，你可以将下游集群中的数据恢复到事务一致性状态。

## 下一步

创建恢复组后，你可能想要熟悉故障转移和重新保护操作。这些操作用于将复制数据库的主集群从一个集群**故障转移**到另一个集群，然后在相反方向重新建立复制以**重新保护**已故障转移的数据库。

- [数据库故障转移和重新保护](/tidb-cloud/recovery-group-failover.md)
