---
title: TiDB 3.1.1 Release Notes
category: Releases
---

# TiDB 3.1.1 Release Notes

发版日期：2020 年 4 月 30 日

TiDB 版本：3.1.1

TiDB Ansible 版本：3.1.1

## 新功能

+ TiFlash

    - 缓存 `handle` 列和 `version` 列减小单次读请求的磁盘 I/O
    - Grafana 添加 DeltaTree 引擎读写负载相关图表
    - 优化 TiFlash chunk encode decimal 数据的流程
    - TiFlash 低负载时，减少打开的文件描述符数量

## Bug 修复

+ TiFlash

    - 修正当 Region 处于非 normal 状态时读取产生的数据错误
    - 修正 TiFlash 中表名的映射方式以正确支持 `recover table`/`flashback table`
    - 修正数据存储路径以解决 `rename table` 时潜在的数据丢失问题 
    - 修正在线更新时的读模型以优化读性能
    - 修正 database/table name 含特殊字符，升级后无法正常启动的问题

+ Tools

    - Backup & Restore (BR)

        * 修复 BR 恢复带有 auto_random 属性的表之后，插入数据有一定概率触发duplicate entry 错误的问题 [#241](https://github.com/pingcap/br/issues/241)
