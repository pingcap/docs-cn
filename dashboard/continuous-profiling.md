---
title: TiDB Dashboard 实例性能持续分析页面
aliases: ['/docs-cn/dev/dashboard/dashboard-profiling/']
---

# TiDB Dashboard 实例性能分析 - 持续分析页面

> **警告：**
>
> 该功能目前为实验特性，不建议在生产环境中使用。

持续性能分析功能允许用户对各个 TiDB、TiKV、PD、TiFlash 实例在不重启的情况下，持续进行内部性能数据收集，并且持久化在监控节点。收集到的性能数据可显示为有向无环图，直观展现实例在性能收集的时间段内执行的各种内部操作及比例，快速了解该实例 CPU 资源消耗的主要内容。

## 分析内容
TiDB/PD: CPU profile、Heap、Mutex、Goroutine（debug=2）
TiKV/TiFlash: CPU Profile

## 访问

该功能默认关闭，需要手动打开启用。

可以通过以下两种方法访问实例性能分析页面：

- 登录后，左侧导航条点击 "**高级调试**" → "**实例性能分析**" → "**持续分析**"：

  ![访问]()

- 在浏览器中访问 <http://127.0.0.1:2379/dashboard/#/continuous_profiling>（将 `127.0.0.1:2379` 替换为实际 PD 实例地址和端口）。

## 启用持续性能分析

### 启用存储节点



> **注意：**
>
> 持续性能分析功能依赖于集群中部署有 ngm 组件。若集群中没有部署 ngm 组件，将无法使用持续性能分析功能。

### 界面启用功能

在持续分析页面，点击**设置**，进入设置弹窗，打开**启用功能**开关，点击**保存** (Save) 按钮即开启功能：

![界面]()

可以修改保留时间。分析结果会持久化到磁盘中，超过保留时间会被回收。该配置对所有结果生效，包括历史结果。

## 查看性能分析历史结果

开始持续性能分析后，可以在列表中看到已经完成的性能分析结果：

![界面]()

性能分析会在后台运行，刷新或退出当前页面不会终止已经运行的性能分析任务。

## 下载性能分析结果

进入某次分析结果后，可点击右上角下载按钮 (Download Profiling Result) 打包下载所有性能分析结果：

![界面]()

也可以点击列表中的单个实例，直接查看其性能分析结果：

![界面]()


