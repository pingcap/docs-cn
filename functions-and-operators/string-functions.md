---
title: 字符串函数
summary: 了解 TiDB 中的字符串函数。
---

# 字符串函数

TiDB 支持大多数 [MySQL 8.0 中的字符串函数](https://dev.mysql.com/doc/refman/8.0/en/string-functions.html)，以及一些 [Oracle 21 中可用的函数](https://docs.oracle.com/en/database/oracle/oracle-database/21/sqlqr/SQL-Functions.html#GUID-93EC62F8-415D-4A7E-B050-5D5B2C127009)。

<CustomContent platform="tidb">

关于 Oracle 和 TiDB 函数和语法的比较，请参见[Oracle 和 TiDB 函数和语法的比较](/oracle-functions-to-tidb.md)。

</CustomContent>

## 支持的函数

### `ASCII()`

`ASCII(str)` 函数用于获取给定参数最左边字符的 ASCII 值。参数可以是字符串或数字。

- 如果参数不为空，函数返回最左边字符的 ASCII 值。
- 如果参数是空字符串，函数返回 `0`。
- 如果参数是 `NULL`，函数返回 `NULL`。

> **注意：**
>
> `ASCII(str)` 仅适用于使用 8 位二进制数字（一个字节）表示的字符。

示例：

```sql
SELECT ASCII('A'), ASCII('TiDB'), ASCII(23);
```

输出：

```sql
+------------+---------------+-----------+
| ASCII('A') | ASCII('TiDB') | ASCII(23) |
+------------+---------------+-----------+
|         65 |            84 |        50 |
+------------+---------------+-----------+
```

### `BIN()`

`BIN()` 函数用于将给定参数转换为其二进制值的字符串表示。参数可以是字符串或数字。

- 如果参数是正数，函数返回其二进制值的字符串表示。
- 如果参数是负数，函数将参数的绝对值转换为二进制表示，然后对二进制值的每一位取反（将 `0` 变为 `1`，将 `1` 变为 `0`），最后加 1。
- 如果参数是仅包含数字的字符串，函数根据这些数字返回结果。例如，`"123"` 和 `123` 的结果相同。
- 如果参数是字符串且其第一个字符不是数字（如 `"q123"`），函数返回 `0`。
- 如果参数是由数字和非数字组成的字符串，函数根据参数开头的连续数字返回结果。例如，`"123q123"` 和 `123` 的结果相同，但会生成警告。
- 如果参数是 `NULL`，函数返回 `NULL`。

示例：

```sql
SELECT BIN(123), BIN('123q123');
```

输出：

```sql
+----------+----------------+
| BIN(123) | BIN('123q123') |
+----------+----------------+
| 1111011  | 1111011        |
+----------+----------------+
```

### `CHAR_LENGTH()`

`CHAR_LENGTH()` 函数用于获取给定参数中字符的总数，返回一个整数。

示例：

```sql
SELECT CHAR_LENGTH("TiDB") AS LengthOfString;

+----------------+
| LengthOfString |
+----------------+
|              4 |
+----------------+
```

### `CHARACTER_LENGTH()`

`CHARACTER_LENGTH()` 函数与 `CHAR_LENGTH()` 函数相同。这两个函数可以同义使用，因为它们生成相同的输出。

### `CONCAT()`

`CONCAT()` 函数将一个或多个参数连接成一个字符串。

语法：

```sql
CONCAT(str1,str2,...)
```

`str1, str2, ...` 是要连接的参数列表。每个参数可以是字符串或数字。

如果任何参数为 `NULL`，`CONCAT()` 返回 `NULL`。

示例：

```sql
SELECT CONCAT('TiDB', ' ', 'Server', '-', 1, TRUE);
```

输出：

```sql
+---------------------------------------------+
| CONCAT('TiDB', ' ', 'Server', '-', 1, TRUE) |
+---------------------------------------------+
| TiDB Server-11                              |
+---------------------------------------------+
```
